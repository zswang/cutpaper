/*<replace encoding="#uglify">*/
(function() {

    function format(template, json) {
        return template.replace(/#\{(.*?)\}/g, function(all, key) {
            return json && (key in json) ? json[key] : "";
        });
    }

    /**
     * 最大排行个数
     * @type {Number}
     */
    var maxRanking = 15;

    function updateRanking() {
        $('.mask').show();
        /*<remove>*/
        var networkData = JSON.parse('{"data":{"hearts":[{"hearts":"31","shape":"{\\"edges\\":5,\\"base\\":{\\"center\\":[200,550],\\"radius\\":500},\\"fill\\":\\"red\\",\\"polygon\\":[[143.2,112.8],[140,120],[138,119],[138,115],[134,101],[134,92],[129,81],[129,74.47174185242321],[104.63074650818136,74.4717418524232],[107,80],[109,82],[109,84],[110,86],[110,88],[111,90],[111,129],[112,133],[115,140],[115,143],[116,144],[116,162],[110,165],[106,173],[102,176],[99,179],[89,185],[84,187],[82.05415026745504,187],[105.7732880924572,260],[120,260],[120,251],[121.3125,256.25],[122,248],[127,215],[129,208],[130,207],[130,205],[131,213],[123,254],[122.45454545454545,260.1818181818182],[128.66666666666666,262.6666666666667],[134,256],[139,245],[142,240],[145,233],[148,229],[149,226],[150,225],[150.24778761061947,238.6283185840708],[154,233],[159,227],[161,223],[164,220],[165,220],[153,273],[152.72222222222223,274.72222222222223],[153.3,275.3],[154,274],[165,259],[180,240],[187,232],[196,224],[200,221],[203,218],[204,218],[204,222],[197,232],[193.44444444444446,237.55555555555554],[198,233],[203,229],[210,227],[211,229],[211,242],[203,259],[197.04474576271187,269.75254237288135],[211,263],[226,259],[231,259],[206.9918032786885,288.8032786885246],[224,282],[180.14285714285714,320.984126984127],[189,320],[194,320],[200,319],[200,328],[191,337],[179,346],[179,347.44444444444446],[183,347],[210,347],[210,349],[206,355],[191,363],[168.66666666666666,371.93333333333334],[165,380],[162,383],[160,387],[157,389],[154,392],[150,394],[149.31252738766662,394],[157.43551979348928,419],[171,419],[180,424],[187,429],[193,436],[198,444],[202,455],[202,470],[197,490],[190,514],[189.15602877053067,516.6256882694602],[199.97606328983272,549.926330381184],[200.05056420712427,549.8443793721633],[201,546.9223164628247],[201,542],[203,535],[203,535],[206.07131061986615,531.3144272561606],[207,528.4562152397732],[207,528],[209,515],[213,508],[214.05987722495323,506.7281473300561],[232,451.5141268103918],[232,445],[233,432],[235.2089552238806,428.13432835820896],[235,425],[237,417],[239,412],[247.6492200225049,403.3507799774951],[257.40429813988146,373.32773665178667],[250,360],[250,337],[252,328],[252,320],[254.9296875,309.2578125],[254,307],[259,277],[267,264],[271.56,260.2],[271,259],[270,249],[278,233],[282.57142857142856,227.85714285714286],[284,225],[294,213],[298.5882352941176,209.94117647058823],[302,198],[304.4,194],[299,188],[296,175],[296,161],[306,139],[315,129],[321.21621621621614,123.40540540540545],[304,134],[286,132],[275,125],[266,118],[264.58870967741933,115.74193548387098],[259,120],[234,128],[211,127],[197,121],[188,113],[179.72972972972974,98.29729729729729],[174,94],[169,86],[163,78],[163,74.47174185242321],[162.61976152609785,74.47174185242321],[158,84],[152,98],[146,114],[144,114],[144,113]]}","md5":"1348d60855df1f48b589868b5d3ac3c4"},{"hearts":"23","shape":"{\\"edges\\":5,\\"base\\":{\\"center\\":[200,550],\\"radius\\":500},\\"fill\\":\\"fuchsia\\",\\"polygon\\":[[169.80372601187324,457.06542466270895],[160.29456565636036,427.7992383841874],[169,413],[198,368],[212,347],[223,329],[235,313],[247,300],[262,278],[268,271],[271,266],[274,259],[273,259],[272,260],[269,261],[262,266],[247,273],[226,285],[136.6234059088706,354.94689972349255],[125.98078862605635,322.1922917197183],[142,309],[153,301],[168,291],[205,270],[209,267],[212,266],[210,266],[208,267],[205,267],[201,269],[166,276],[150,280],[128,288],[119,292],[116.65548656709511,293.49196309366675],[112.65281918567135,281.17301958907046],[120,271],[127,258],[138,244],[147,228],[159,208],[159,205],[158,205],[145,212],[128,227],[118,238],[108,250],[103.97661953020993,254.4704227442112],[97.25873019140732,233.79488532161326],[111,217],[142,184],[144,179],[139,179],[124,182],[118,184],[107,186],[96,187],[82.05415026745506,187],[64.0071872407268,131.45715899662792],[71,134],[84,140],[95,146],[104,150],[112,156],[120,160],[119,159],[112,146],[85,90],[77.10071942446044,75.9568345323741],[91,82],[118,95],[143.33333333333334,106.55555555555556],[144,111],[147,124],[151,154],[153,156],[156,156],[190.63824289405684,129.27906976744185],[209,139],[227.15034965034965,149.01398601398603],[219,156],[207,164],[196,175],[180,189],[174,192],[171,194],[171,196],[181,193],[194,185],[212,176],[231,168],[247.94594594594594,159.97297297297297],[264,168],[268.7860465116279,170.73488372093024],[267,172],[250,185],[201,217],[189,224],[154,251],[150,255],[145,258],[141,262],[144,262],[191,247],[210,243],[262,235],[289,229],[304.8951430745348,227.16594502986138],[281.7613399556149,298.36447004121476],[280,300],[269,309],[256,322],[247,332],[239,339],[229,352],[224,357],[222,361],[221,367],[225,367],[238,361],[258,350],[266.1328643886022,346.46397200495556],[253.6147440168527,384.99078498946704],[236,396],[215,411],[208,417],[205,419],[204,421],[204,422],[205,423],[241.2648014215791,423],[240.14177954729843,426.45630593436135],[204.56549520766774,475.82747603833866],[204,473],[201,455],[200,453],[188,453],[181,454],[173,456]]}","md5":"be03b5d8870637e71124b0af7ffca997"},{"hearts":"16","shape":"{\\"edges\\":5,\\"base\\":{\\"center\\":[200,550],\\"radius\\":500},\\"fill\\":\\"black\\",\\"polygon\\":[[150,125],[141,125],[140,124],[139,124],[137,122],[136,122],[135,121],[135,120],[134,119],[133,117],[133,116],[132,115],[132,114],[131,114],[131,112],[129,111],[129,110],[128,109],[128,108],[123,103],[122,101],[122,100],[121,100],[121,98],[120,98],[120,96],[119,95],[119,94],[118,93],[118,89],[117,88],[117,87],[116,85],[116,83],[113,80],[112.79,76.51],[111,81],[109,84],[100,105],[96,110],[94,114],[94,115],[93,120],[93,124],[92,127],[92,131],[91,134],[91,138],[90,141],[89,166],[88.24,170.57],[93,182],[93,189],[94,191],[94,193],[95,196],[95,198],[96,199],[96,202],[98,204],[98,210],[101,213],[110,228],[112,230],[115,235],[115,227],[116,225],[116,223],[117,221],[118,220],[118,219],[120,215],[120,213],[123,210],[123,209],[124,208],[124,207],[125,207],[126,206],[126,205],[128,203],[128,202],[131,202],[131,201],[132,199],[133,199],[133,198],[134,197],[136,197],[136,196],[138,196],[138,195],[139,195],[140,194],[153,194],[153,196],[155,198],[155,201],[156,202],[156,204],[157,206],[157,210],[158,211],[158,212],[159,213],[159,215],[160,214],[160,207],[161,206],[161,203],[162,202],[162,201],[164,201],[164,199],[165,199],[166,198],[168,198],[170,197],[186,197],[187,198],[188,198],[188,199],[190,199],[190,201],[192,203],[193,203],[193,206],[194,206],[194,209],[196,210],[196,212],[197,213],[198,222],[199,223],[199,226],[200,227],[201,239],[201,242],[205,242],[205,241],[207,237],[207,235],[208,234],[208,229],[209,228],[209,225],[210,224],[210,221],[212,220],[213,218],[214,214],[217,211],[217,210],[218,209],[218,208],[220,206],[220,205],[222,203],[222,202],[223,201],[224,199],[227,196],[227,195],[229,195],[230,194],[235,194],[235,193],[247,193],[248,194],[249,194],[249,196],[250,196],[250,197],[251,198],[251,208],[252,208],[254,206],[254,205],[255,204],[255,203],[256,203],[258,201],[259,199],[261,199],[263,197],[264,197],[266,195],[267,195],[267,194],[269,194],[270,193],[282,193],[283,194],[284,194],[284,195],[285,196],[285,197],[286,198],[287,198],[287,199],[288,201],[288,202],[289,203],[290,205],[290,207],[292,209],[292,236],[292,236],[292,236],[292,239],[292,239],[292,239],[292,244],[295,242],[296,240],[299,237],[299,237],[300,236],[302.67,230.67],[303.97,230.02],[319.19,183.17],[324,165],[324,161],[324.18,160.08],[324.87,130.65],[322,123],[322,121],[321,117],[319,112],[319,110],[317,106],[316,105],[316,103],[315,101],[314,100],[312,96],[311,95],[310,93],[307,90],[306,88],[300,81],[299,79],[298,78],[295,90],[295,93],[294,96],[288,108],[287,109],[287,110],[285,112],[284,112],[283,114],[282,115],[280,116],[280,117],[278,120],[271,124],[270,125],[269,125],[268,126],[266,127],[265,128],[264,128],[263,129],[262,129],[261,130],[249,130],[248,129],[247,129],[245,127],[243,127],[242,126],[241,126],[239,124],[238,124],[234,122],[233,121],[231,120],[230,117],[227,114],[227,112],[225,107],[225,104],[222,89],[222,83],[220,87],[220,88],[219,89],[219,91],[218,92],[218,93],[217,93],[217,94],[216,95],[215,95],[215,96],[206,96],[206,95],[204,95],[202,93],[202,92],[201,92],[201,91],[200,90],[200,88],[199,88],[199,87],[198,85],[198,94],[197,97],[197,99],[196,103],[192,107],[190,111],[186,115],[184.5,118],[184,120],[183,122],[180,125],[180,125],[178,126],[177,127],[177,128],[169,128],[167,127],[162,127],[160,125],[158,125],[157,124],[155,125],[154,125],[154,125],[153,125],[153,125],[150,125]]}","md5":"a68eb1ce98b839546d5bd7c711ed9ba5"},{"hearts":"12","shape":"{\\"edges\\":5,\\"base\\":{\\"center\\":[200,550],\\"radius\\":500},\\"fill\\":\\"red\\",\\"polygon\\":[[153.32,406.34],[118.34,298.66],[122,295],[131,288],[135,284],[143,278],[155,266],[173,242],[177,238],[180,233],[181,230],[183,227],[184,223],[191,206],[191,203],[190,203],[189,204],[187,205],[186,207],[184,209],[181,214],[176,219],[171,227],[163,235],[158,241],[153,246],[140,255],[125,263],[108.37,267.99],[106.6,262.56],[115,255],[122,248],[128,244],[131,241],[130,241],[119,246],[114,249],[107,251],[103.43,252.79],[102.36,249.51],[108,245],[128,226],[132,222],[133,220],[108,220],[96,221],[93.3,221.61],[83.61,191.8],[92,189],[94,189],[93,184],[93,180],[92,179],[89.38,173.76],[100,167],[103,164],[103,162],[88,162],[74,159],[74,159],[72.88,158.78],[70.03,150],[106,150],[114,151],[119,151],[117,150],[90,146],[80,144],[67.66,142.7],[66.14,138.03],[67,114],[66,112],[66,110],[65,109],[65,108],[64,107],[64,104],[63,104],[63,103],[61,101],[54,92],[53,92],[53,91],[51,91],[50.8,90.8],[45.49,74.47],[103.68,74.47],[105,78],[109,80],[112.69,74.47],[162.88,74.47],[164,76],[175,98],[175,96],[180.38,74.47],[220,74.47],[220,79],[221,87],[224,95],[227,101],[233,107],[236,108],[240,108],[245,105],[263,77],[265.12,74.47],[284,74.47],[284,97],[285,98],[285,99],[286,98],[289,88],[295.01,74.47],[354.51,74.47],[336.45,130.06],[328,131],[318,133],[303,137],[258,146],[204,161],[193,165],[176,170],[171,174],[178,173],[191,170],[208,165],[227,161],[248,155],[274,151],[301,145],[328,141.52],[328,142],[327,144],[325,146],[325,147],[324,149],[321,152],[321,153],[317,156],[317,160],[318,161],[318,162],[321,165],[321,166],[322,166],[322,167],[323,169],[323.6,169.6],[316.66,190.95],[295,196],[267,205],[257,209],[248,216],[248,218],[251,221],[265,221],[293,220],[308.04,217.49],[304.58,228.14],[302,229],[302,230],[301,230],[300,231],[300,232],[299,232],[298,233],[298,234],[297,234],[296,246],[297,249],[297.8,249],[295.47,256.16],[291,254],[256,245],[249,245],[249,246],[250,246],[252,249],[253,252],[255,254],[266,271],[269,277],[280.93,291.69],[277,293],[256,305],[247,312],[245,312],[213,316],[203,316],[199,317],[192,317],[198,318],[213,318],[220,320],[234,322],[241,325],[246,326],[248.25,326.75],[247.5,327.5],[245,328],[218,341],[217,341],[216,342],[214,342],[213,343],[211,344],[209,346],[208,346],[207,347],[206,347],[205,348],[192,356],[189,357],[182,361],[181,361],[180,362],[180,363],[200,363],[210,360],[219,358],[224,356.08],[224,361],[223,365],[224,364],[227,364],[230,363],[237,359],[243,357],[264,347],[266.37,345.74],[259.14,368],[258,368],[256,369],[254,369],[253,370],[249,371],[247,372],[243,376],[242,378],[241,379],[241,381],[238,384],[238,386],[237,388],[237,389],[236,391],[236,392],[235,394],[235,398],[234,399],[235,407],[236,406],[237,404],[237,402],[241,396],[243,394],[249,384],[252,382],[253,380],[256.31,376.69],[237,436.13],[237,435],[236,434],[232,433],[232,434],[228,442],[227,443],[227,445],[225,447],[225,449],[224,451],[224,453],[223,454],[223,456],[222,457],[222,458],[221,459],[221,459],[219,457],[219,456],[215,455],[214,456],[213,456],[210,459],[208,460],[207,462],[204,465],[202,466],[194,465],[194,464],[193,464],[188,459],[183,460],[182,460],[180,462],[177,462],[177,463],[175,464],[174,464],[172.33,464.84],[157.76,420],[158,420],[161,417],[163,416],[178,415],[177,415],[174,412],[172,411],[170,409],[166,407],[165,406],[154,406]]}","md5":"9a022b04afc7cea0e1b011b82af1711d"},{"hearts":"12","shape":"{\\"edges\\":5,\\"base\\":{\\"center\\":[200,550],\\"radius\\":500},\\"fill\\":\\"red\\",\\"polygon\\":[[225.33,375],[208,375],[200,373],[199,373],[188,367],[186.74,366.31],[186,365],[177,351],[175.6,348.2],[174,339],[173.63,334.54],[175,327],[177,319],[177.58,313.77],[180,307],[185,297],[200,282],[213,272],[220,268],[226,266],[236,260],[251,254],[260,252],[272,247],[286,244],[291,242],[300.94,239.35],[262.44,357.84],[237,371],[230,373]]}","md5":"7aa50601942e6e91ceaf6d568faae484"},{"hearts":"9","shape":"{\\"edges\\":5,\\"base\\":{\\"center\\":[200,550],\\"radius\\":500},\\"fill\\":\\"red\\",\\"polygon\\":[[350.21929041602385,74.47174185242324],[331.49316148017544,74.47174185242324],[328,76],[317,80],[293,91],[267,102],[244,114],[219,126],[201,133],[191,134],[185,134],[185,130],[186,129],[187,127],[191,125],[195,121],[210,110],[220,102],[253,84],[268.24521303612283,74.47174185242322],[210.16954888546076,74.47174185242321],[207,75],[200,78],[169,88],[133,105],[118,109],[98,109],[93,108],[93,106],[95,102],[113,81],[120.4608664543735,74.4717418524232],[81.14619361068262,74.47174185242318],[80,76],[69,86],[61,98],[55.407634448142524,104.99045693982185],[69.44462950709324,148.19188554416488],[76,147],[111,147],[116,149],[121,154],[123,164],[122,169],[112,180],[109,184],[94,196],[86.97552035261963,202.14641969145782],[91.00022012115521,214.53317191115283],[104,205],[154,177],[163,173],[171,170],[175,169],[177,168],[182,168],[183,170],[185,172],[185,174],[188,188],[188,196],[182,207],[154,235],[108.94961675535613,269.7757344344619],[114.88649263111787,288.04755957954677],[118,284],[133,266],[147,252],[158,243],[177,229],[200,216],[207,213],[216,210],[222,210],[222,221],[218,228],[209,241],[201,251],[196,256],[179,275],[172,281],[153,302],[144,309],[133,320],[131,321],[129,321],[129,322],[126.14982847539405,322.7125428811515],[136.48354570952856,354.5164542904715],[141,350],[151,338],[165,327],[175,318],[201,298],[207,295],[211,291],[218,291],[219,292],[221,292],[221,293],[222,293],[222,307],[216,320],[204,338],[179,367],[159,388],[149.96106182730173,395.9959837681561],[160.1052844454914,427.21669071759936],[168,417],[183,399],[210,369],[236,351],[255,341],[258,341],[258,345],[257,346],[257,348],[256,349],[256,350],[255,351],[253,359],[249,369],[239,387],[226,409],[198,449],[190,462],[183,472],[178,480],[177.46215253959664,480.6356379077494],[200,550],[272,328.40678532338177],[272,318],[275,299],[279,291],[286,280],[288.5601665064738,277.4398334935262],[315.99633155514755,193],[284,193],[265,192],[249,190],[242,188],[242,183],[249,174],[254,170],[276,156],[289,149],[302,140],[315.2783505154639,132.41237113402062],[286,139],[267,139],[267,138],[269,137],[279,130],[292,123],[303,113],[319,101],[344,80]]}","md5":"019e68ef5e6dcaa7cfcdc68735832f5f"},{"hearts":"8","shape":"{\\"edges\\":5,\\"base\\":{\\"center\\":[200,550],\\"radius\\":500},\\"fill\\":\\"red\\",\\"polygon\\":[[244.82499405424193,412.0428537452811],[238.54745361954008,431.363136595115],[236,432],[230,432],[225,433],[213,433],[213,434],[214,435],[218,435],[221,436],[224,436],[228,438],[229,439],[229,440],[227,440],[223,441],[218,441],[193,445],[195,446],[202,446],[211,447],[220,447],[229,448],[233.14180901575648,448],[215.40176808808243,502.5982319119176],[214,504],[210,509],[207,511],[206,514],[203,516],[200,517],[189.27765002431408,517],[165.94079151222726,445.17653474796214],[167,445],[175,442],[200,431],[204,430],[202,429],[181,429],[176,428],[175,427],[175,424],[164,424],[159.28968918836566,424.70654662174513],[149.4381418158854,394.3866014577605],[154,388],[154,376],[153,374],[153,373],[142.4892137667756,373],[136.9711945965747,356.01728324205516],[137,356],[142,354],[147,349],[150,345],[150,334],[149,332],[148,331],[145,331],[138,333],[134,335],[130.51925305644622,336.16024898118457],[125.22467003476291,319.86519797914224],[130,317],[135,313],[139,309],[140,306],[140,302],[139,300],[130,300],[126,302],[122,303],[120.06000613855016,303.9699969307249],[110.97200323218371,276],[116,276],[122,274],[152,270],[156,270],[159,269],[118,269],[113,267],[108.04772596608755,267],[101.02607200436181,245.38957119825528],[107,243],[116,240],[142,240],[162,242],[187,250],[194,254],[199,259],[203,266],[204,271],[204,276],[203,281],[203,284],[201,290],[200,291],[198,295],[196,297],[194,298],[192,300],[189,302],[186,305],[204,305],[205,303],[206,302],[210,291],[211,286],[211,264],[210,260],[208,257],[207,253],[204,249],[200,245],[183,234],[177,233],[119,233],[114,235],[100,239],[99.09672103502311,239.45163948248845],[86.69514151292995,201.28350235237258],[88,199],[98,190],[103.85365853658537,186.58536585365854],[106,186],[120,184],[128,184],[147,181],[167,181],[166,180],[164,180],[160,179],[155,179],[143,177],[135,175],[129,173],[124,172],[119,170],[109,164],[104,163],[87,156],[79,154],[73,150],[69.45643437333958,148.22821718666978],[49.26540429295639,86.0866163096641],[73,100],[86,104],[97,108],[111,111],[124,113],[148,113],[158,112],[191,104],[201,103],[228,98],[257,98],[265,99],[291,106],[318,119],[323,121],[325,124],[327,125],[334,132],[335.47427514512736,133.05305367509095],[329.9979104248982,149.90757121810776],[326,147],[321,142],[315,138],[311,137],[304,134],[301,132],[297,132],[295,130],[291,128],[285,127],[281,125],[265,121],[211,121],[205,122],[199,124],[190,129],[188,131],[184,132],[179,132],[163,136],[138,140],[94,140],[89,139],[87,137],[84,137],[78,134],[78,135],[79,136],[80,136],[81,137],[83,137],[85,138],[86,138],[88,140],[92,142],[96,142],[99,144],[104,145],[108,145],[117,148],[173,148],[177,147],[185,142],[189,139],[201,135],[207,132],[212,131],[228,131],[230,132],[234,133],[236,133],[253,137],[260,140],[260,140],[260,140],[260,140],[263,143],[270,148],[274,149],[286,156],[290,163],[293,167],[300,180],[300,180],[303,188],[307,196],[310,205],[310.7110636633551,209.26638198013063],[301.08295732228333,238.89864636021994],[300,235],[298,229],[297,223],[295,217],[294,211],[289,201],[282,192],[278,188],[274,185],[272,182],[267,179],[264,176],[260,173],[255,171],[236,160],[231,158],[221,156],[211,156],[219,164],[225,169],[231,173],[237,178],[242,181],[246,185],[250,188],[254,192],[255.2,195],[194,195],[185,196],[153,196],[153,197],[156,197],[199,208],[207,209],[224,213],[239,215],[246,217],[253,218],[259,218],[266.54901960784315,219.37254901960785],[268,223],[281,250],[284,258],[286,267],[287.89473684210526,272.05263157894734],[270,281],[268,281],[267,282],[268,282],[270,283],[286.753558894186,283],[277.90807419438397,310.22360263891636],[274,312],[268,313],[263,316],[256,317],[251,319],[246,320],[243,320],[241,321],[240,322],[242,322],[246,324],[252,325],[257,325],[263,326],[272.78201195617106,326],[268.34534589086576,339.65465410913424],[268,340],[266,344],[263,348],[255,356],[251,359],[247,363],[240,368],[236,370],[234,372],[217,382],[214,383],[212,383],[210,384],[207,384],[200,386],[191,386],[190,387],[222,387],[227,386],[236,382],[245,375],[251,371],[260.8193853910753,362.8171788407706],[250.68747261233344,394],[244,394],[236,398],[236,405],[239,408],[243,411]]}","md5":"c526f8b0c33823c7071cc95f86c7a105"},{"hearts":"7","shape":"{\\"edges\\":5,\\"base\\":{\\"center\\":[200,550],\\"radius\\":500},\\"fill\\":\\"red\\",\\"polygon\\":[[231.84213023082484,452],[236.5472669094934,437.51907830390235],[234,432],[226,413],[219,394],[219,380],[220,378],[221,377],[236,377],[239,378],[242,380],[247,382],[253,386],[253.2164887298545,386.2164887298545],[260.8401862701171,362.7531603177848],[250,350],[239,332],[235,323],[234,297],[236,290],[245,288],[255,288],[259,289],[273,294],[281.51870517664764,299.1112231059886],[290.1328431802914,272.5996323852185],[288,271],[281,263],[273,256],[268,247],[265,240],[263,231],[263,207],[264,203],[266,199],[280,199],[288,203],[301,213],[303,217],[306,220],[306.8225874569186,221.23388118537792],[315.378162170994,194.9025297367952],[308,189],[299,180],[292,172],[276,149],[273,143],[272,137],[272,119],[275,110],[285,110],[290,111],[295,111],[306,113],[306,113],[310,113],[313,115],[316,115],[322,117],[325,119],[329,120],[332,122],[334,124],[336,125],[337.5781114168127,126.57811141681273],[351.1674631044997,84.75438744673376],[351,85],[344,94],[339,98],[337,98],[337,97],[336,97],[336,95],[335,94],[334,92],[332,91],[330,88],[328,82],[324,77],[322.73587092621165,74.47174185242324],[322.6461936106826,74.47174185242324],[317,82],[312,90],[310,92],[304,92],[304,91],[301,88],[299,84],[296,82],[294,79],[291.8282208588957,77.5521472392638],[288,83],[284,91],[282,93],[280,93],[280,92],[274,89],[272,87],[270,83],[264,77],[262.2,75.8],[253,85],[245,94],[239,98],[234,98],[234,97],[233,97],[233,96],[232,95],[232,94],[231,92],[230,91],[229,88],[221.62095010132174,74.47174185242321],[219.5193345220262,74.47174185242321],[213,84],[207,92],[206,92],[202,88],[200,87],[190,78],[187.51592356687897,76.50955414012739],[169,96],[166,98],[162,98],[162,97],[161,97],[161,96],[157,92],[154,90],[151,87],[148,82],[143.34653465346534,79.20792079207921],[138,85],[133,92],[125,93],[125,92],[124,92],[122,91],[121,89],[118,88],[116,84],[113,82],[110,79],[109.5,78],[96,96],[94,98],[91,98],[91,97],[90,97],[88,95],[86,94],[82,90],[78,88],[76,85],[74,83],[71,81],[69,79],[68.89655172413794,78.79310344827586],[66,85],[54.9747373761489,103.65813674805571],[61.879849702355045,124.90988727676628],[62,125],[64.88349514563107,126.49514563106796],[68.9,124.2],[77,117],[90,111],[94,110],[108,110],[110,112],[117,124],[117,141],[115,146],[110,153],[101,171],[88,186],[82.89119624594004,189.57616262784197],[92.80658512232543,220.0925917373839],[100,212],[106,206],[111,202],[117,198],[121,197],[134,197],[140,208],[140,213],[141,220],[141,240],[137,253],[117.43987844981832,295.9060730778179],[123.6589381903432,315.04637085794076],[124,313],[128,306],[134,300],[144,292],[148,291],[159,291],[164,299],[165,302],[164,334],[156,355],[144.34245202591947,378.70368088063043],[148.47887220343364,391.4342731638053],[155,386],[161,382],[172,380],[181,380],[184,381],[186,389],[186,398],[183,410],[170,441],[167.09810626211586,448.7383833010244],[170.23190572950233,458.3832263306083],[173,455],[181,452],[187,452],[179.1751474824612,485.9076942426682],[200,550],[222.43765188001146,480.94400819601947],[216,470],[212,466],[208,463],[207,460],[207,451],[208,450],[219,450],[222,451],[225,451],[229,452]]}","md5":"ef734e904dc059da87744232370f8095"},{"hearts":"7","shape":"{\\"edges\\":5,\\"base\\":{\\"center\\":[200,550],\\"radius\\":500},\\"fill\\":\\"red\\",\\"polygon\\":[[68.45832030407729,145.15633794747825],[87.76451328916325,204.57469026320567],[98,203],[113,203],[116,204],[122,209],[119,212],[116,217],[111,224],[106,230],[100,235],[98.226530770094,236.773469229906],[112.13972821851571,279.5938879663822],[116,279],[129,278],[154,275],[162,273],[173,271],[175,270],[174,271],[146,285],[130,292],[118.10343286222098,297.9482835688895],[121.46283377849407,308.2874564636747],[139,306],[150,309],[147,317],[140,328],[131.68294504180443,339.7417246468643],[139.0398816528899,362.384047338844],[140,362],[150,360],[157,360],[153,367],[148,374],[144.69397218272815,379.78554868022576],[147.99689596923133,389.95090284249113],[167,399],[178,408],[182,412],[185,417],[187,423],[187,431],[181,443],[173,456],[170.513885951411,459.2510722173856],[182.77925609965598,497],[199,497],[199,498],[190,509],[189.33333333333334,509.93333333333334],[190,510],[187.84388804171851,512.5873343499378],[200,550],[217.7565341168034,495.35100727142344],[213,488],[211,483],[211,478],[212,477],[214,477],[224,474],[224.797553212747,473.6809787149012],[227.604581893031,465.0418327572124],[225,464],[223,461],[220,458],[216,452],[208,442],[213,442],[215,443],[219,444],[224,444],[229,446],[233.51649264245512,446.8468423704603],[237.28783029114604,435.23985857595505],[237,435],[234,431],[231,426],[226,419],[223,413],[221,408],[221,407],[234,408],[244.2,408],[240,405],[232,398],[206,372],[202,366],[202,362],[201,361],[206,361],[208,362],[222,365],[236,372],[250.22222222222229,382.2222222222223],[243,375],[237,366],[231,358],[229,353],[229,352],[233,351],[239,354],[257,365],[259.4827219362535,366.9310059504194],[266.80664800087595,344.3902792738421],[261,337],[255,328],[249,320],[241,307],[248,307],[271,313],[276.3151670251086,315.1260668100434],[279.21163990664974,306.21163990664974],[271,298],[265,293],[247,275],[240,266],[233,259],[229,252],[230,253],[236,253],[252,256],[294.44885406983343,259.31631672420576],[309.2538327466852,213.7512775822284],[280,204],[267,199],[230,188],[236,187],[255,180],[266,173],[280,165],[290,157],[294,151],[294,150],[291,148],[278,146],[266,146],[254,147],[240,149],[234,151],[242,148],[264,136],[277,127],[289,116],[295,108],[295,104],[294,104],[288,101],[282,99],[274,98],[263,95],[256,94],[249,91],[249,90],[263,82],[283.5316131297548,74.47174185242322],[178.42260651806143,74.47174185242321],[178,75],[174,82],[167,98],[163,114],[159,126],[157,139],[155,147],[153,151],[153,154],[151,154],[149,155],[146,155],[136,152],[122,145],[109,135],[93,119],[86,111],[81,106],[77,104],[75,104],[75,105],[74,106],[74,109],[73,113],[73,119],[71,128]]}","md5":"d5f37b801c34aee0f8e769253ad84a41"},{"hearts":"6","shape":"{\\"edges\\":5,\\"base\\":{\\"center\\":[200,550],\\"radius\\":500},\\"fill\\":\\"red\\",\\"polygon\\":[[65.92,74.47],[72.19,74.47],[74,79],[79,84],[80,87],[82,89],[85,94],[85,95],[86,96],[86,97],[87,76],[87.02,75.61],[91,78],[93,77],[95.11,74.47],[101.42,74.47],[102,77],[102,80],[104,85],[105,87],[105,88],[106,88],[106,86],[108.5,82.24],[109,84],[111,96],[111,100],[112,103],[112,106],[122,100],[127,96],[132,90],[139,84],[144,78],[147.53,74.47],[162,74.47],[162,81],[164,80],[169.53,74.47],[189.12,74.47],[187,78],[186,82],[185,84],[185,86],[194,86],[213,75],[213.79,74.47],[240,74.47],[240,77],[241,78],[247,78],[256,75],[256.91,74.47],[264.28,74.47],[265,77],[265,79],[266,80],[266,81],[269,81],[274,76],[278,76],[280,77],[282,77],[286,81],[286,82],[289,84],[291,82],[293,78],[293,76],[293.76,74.47],[299.47,74.47],[300,75],[300.79,74.47],[308.43,74.47],[308.93,74.68],[309,75],[310,77],[310,80],[311,82],[311,76],[311.06,75.6],[312,76],[315,76],[317,75],[317.35,74.47],[354.51,74.47],[347.84,95],[281,95],[267,98],[250,100],[235,103],[220,107],[197,114],[187,116],[171,122],[170,123],[164,124],[162,125],[159,125],[157,126],[157,127],[161,127],[187,121],[243,116],[281,115],[341.34,115],[331.61,144.95],[320,147],[296,155],[286,159],[281,163],[278,166],[278,168],[280,169],[301,169],[319,168],[319,168],[304,171],[293,176],[288.8,179],[284,179],[269,181],[255,185],[243,192],[241,194],[197,194],[182,196],[170,196],[159,198],[143,200],[137,200],[133,201],[131,202],[144,202],[159,203],[261,203],[293,205],[311.25,207.61],[302.35,235],[296,235],[292,237],[284,243],[282,248],[282,254],[287,256],[295,257],[295.2,257],[293.25,263],[277,263],[273,265],[268,270],[266,273],[265,276],[265,284],[268,285],[275,285],[285,284],[286.74,283.05],[284.15,291],[284,291],[274,293],[263,297],[250,307],[247,310],[242,318],[242,321],[244,323],[250,326],[258,328],[266,328],[272.43,327.08],[263.36,355.01],[260,353],[251,346],[245,344],[217,329],[210,326],[197,317],[196,317],[196,319],[199,325],[203,331],[206,339],[210,348],[222,367],[238,383],[240,384],[241,384],[242,385],[243,385],[249,389],[251.93,390.17],[227.94,464],[227,464],[225,462],[223,461],[222,459],[220,457],[220,455],[219,454],[219,453],[217,449],[211,444],[211,443],[210,443],[206,445],[205,446],[204,448],[203,449],[202,452],[200,454],[199,456],[198,457],[198,458],[197,460],[196,461],[193,460],[193,459],[192,457],[192,455],[191,452],[188,448],[187,446],[185,444],[185,443],[184,442],[183,442],[183,440],[182,440],[182,439],[181,437],[180,437],[180,441],[178,443],[177,445],[175,446],[171,452],[169.28,455.45],[159.54,425.46],[162,423],[164,422],[164,421],[167,418],[167,417],[168,417],[168,416],[169,415],[169,404],[168,403],[168,402],[166,399],[164,398],[160,398],[159,397],[156,397],[155,396],[149.96,396],[145.73,382.96],[159,364],[162,354],[164,351],[169,340],[170,336],[170,334],[172,329],[172,326],[175,318],[177,315],[178,312],[178,309],[180,307],[180,303],[181,301],[181,299],[182,297],[182,295],[183,293],[183,291],[184,289],[184,288],[185,286],[185,284],[186,282],[186,279],[187,278],[187,277],[189,273],[189,272],[190,271],[190,270],[191,269],[191,267],[192,267],[192,266],[193,265],[193,264],[195,262],[196,260],[196,259],[198,257],[198,256],[206,249],[208,248],[209,247],[213,245],[214,245],[216,244],[219,244],[220,243],[231,243],[231,248],[230,249],[229,252],[228,252],[227,253],[226,253],[225,254],[223,254],[223,255],[213,255],[209,255],[208,256],[207,256],[207,263],[208,264],[208,265],[209,266],[209,267],[210,267],[211,268],[221,268],[224,267],[227,267],[230,266],[233,266],[238,264],[242,260],[244,259],[249,254],[250,252],[250,251],[252,250],[252,232],[251,231],[251,230],[250,229],[250,227],[246,223],[243,222],[227,222],[219,225],[216,225],[210,227],[197,235],[194,239],[190,242],[187,245],[181,253],[179,257],[176,260],[172,267],[170,273],[170,276],[166,287],[166,290],[162,301],[162,304],[156,318],[155,322],[152,330],[149,335],[149,338],[148,340],[147,341],[146,343],[146,344],[145,345],[145,346],[144,346],[144,347],[142,349],[142,349],[141,349],[141,350],[139,350],[137,352],[135.67,352],[134,346.87],[134,344],[135,342],[135,340],[136,338],[136,336],[137,335],[137,333],[138,332],[139,330],[139,312],[138,312],[138,309],[137,307],[137,303],[136,302],[136,298],[135,297],[135,294],[134,293],[134,290],[133,289],[133,286],[132,285],[132,282],[131,282],[131,280],[130,280],[130,278],[129,277],[129,276],[128,275],[128,274],[127,273],[127,272],[115,259],[115,258],[113,256],[112,256],[112,255],[107,250],[106,250],[106,249],[102.2,249],[98.66,238.11],[99,238],[105,237],[106,237],[106,234],[107,234],[99,227],[99,228],[98,228],[98,229],[97,229],[97,230],[96.03,230],[94.53,225.4],[95,224],[95,221],[96,219],[97,218],[97,210],[97,210],[97,210],[97,190],[96,189],[96,184],[95,183],[95,181],[94,180],[94,178],[93,177],[93,174],[92,172],[91,171],[90,169],[90,168],[89,167],[89,166],[88,165],[88,164],[87,162],[86,159],[85,159],[85,158],[84,157],[84,156],[82,154],[82,152],[81,151],[81,150],[80,149],[80,147],[78,145],[77,143],[77,141],[76,140],[76,139],[75,138],[75,137],[74,135],[72,133],[72,132],[71,132],[71,131],[70,130],[69,130],[69,129],[68,128],[67,128],[65,126],[65,125],[64,125],[60.9,121.9],[53.17,98.12],[56,96],[57,92],[57,92],[63,87],[65,80]]}","md5":"4a8e26f1283c132e4c8b5643963286d3"}],"newest":[{"hearts":"0","shape":"{\\"edges\\":5,\\"base\\":{\\"center\\":[200,550],\\"radius\\":500},\\"fill\\":\\"fuchsia\\",\\"polygon\\":[[221.16,443.47],[219.79,441.79],[213.54,430.33],[209.38,413.67],[209.38,401.17],[210.42,388.67],[213.54,378.25],[219.79,365.75],[243.75,345.96],[268.75,335.54],[269.77,335.26],[295.41,256.35],[288.54,248.04],[275,229],[255.21,203.25],[252.08,195.96],[252.08,189.71],[265.63,183.46],[295.83,174.08],[308.02,170.83],[308.33,154.29],[309.38,149.08],[316.67,141.79],[320.83,136.58],[327.08,131.38],[330.21,129.29],[337.67,126.31],[354.51,74.47],[313.28,74.47],[312.5,75.13],[305.21,79.29],[300,84],[296.88,88.67],[289.58,95.96],[282.29,104.29],[276.04,105.33],[270.83,105.33],[267.71,102.21],[259.38,91.79],[253.13,82.42],[248.45,74.47],[244.95,74.47],[233.33,82.42],[207.29,102.21],[196.88,109.5],[186.46,112.63],[182.29,111.58],[180.21,111.58],[178.13,110.54],[171.88,100.13],[166.67,93.88],[160.42,84.5],[155.21,75.13],[154.77,74.47],[118.68,74.47],[116.67,79.29],[106.25,93.88],[96.88,108.46],[72.92,134.5],[66.85,140.2],[76.98,171.39],[79.17,170.96],[88.54,167.83],[101.04,165.75],[111.46,162.63],[119.79,161.58],[138.54,161.58],[138.54,183.46],[126.04,207.42],[110.42,239.71],[103.08,251.71],[103.63,253.4],[114.58,237.63],[130.21,210.54],[147.92,184.5],[163.54,160.54],[171.88,149.08],[177.08,139.71],[185.42,130.33],[186.46,130.33],[186.46,137.63],[182.29,148.04],[176.04,165.75],[161,197],[135.42,255.33],[118.14,298.07],[121.06,307.04],[144.79,283.46],[164.58,265.75],[185.42,248.04],[193.75,243.88],[195.83,256.38],[194.79,274.08],[189.58,293.88],[158.33,388.67],[153.38,406.51],[159.62,425.72],[170.83,399.08],[180.21,366.79],[190.63,336.58],[194.79,327.21],[196.88,319.92],[198.96,314.71],[200,309],[202.08,304.29],[205.21,301.17],[207.29,300.13],[208.33,303.25],[206.25,316.79],[202.08,337.63],[196.88,367.83],[188.54,428.25],[185.42,454.29],[183.33,489.71],[183.33,498.7],[200,550],[218.37,493.46],[212,488],[201,477],[195,469],[195,467],[205,459],[208,454],[214,450],[218,446]]}","md5":"c49f155410775923d05e7a8f1c7d2e27"},{"hearts":"0","shape":"{\\"edges\\":5,\\"base\\":{\\"center\\":[200,550],\\"radius\\":500},\\"fill\\":\\"fuchsia\\",\\"polygon\\":[[235.46,188.73],[226,200],[202,225],[176,253],[147,283],[122.15,310.42],[136.21,353.68],[163,310],[170,300],[167,314],[153,340],[139.14,362.71],[151.89,401.92],[161,390],[183,359],[195,347],[202,337],[211,327],[212,327],[206,339],[191,360],[173,384],[153.79,407.78],[168.78,453.92],[181,437],[193,419],[222,385],[226,384],[228,384],[228,417],[223,437],[211,473],[196,502],[188.2,513.69],[200,550],[238,433.05],[238,429],[240,423],[241,412],[246,398],[255,370],[258.17,364.81],[256,363],[245,353],[233,343],[225,332],[216,322],[211,310],[210,300],[210,279],[216,270],[223,264],[232,260],[238,259],[245,259],[251,260],[256,269],[261,280],[270,314],[273.33,324.32],[288.95,276.25],[287,273],[283,268],[281,263],[280,258],[278,253],[278,233],[283,223],[287,213],[296,199],[300,194],[303,189],[306,187],[307,185],[310,185],[311,190],[311,208.38],[335.82,132],[333,132],[333,119],[338,113],[343,108],[343.76,107.54],[354.51,74.47],[335.18,74.47],[332,84],[330,95],[327,97],[325,97],[322,95],[318,90],[316,83],[312.59,74.47],[267.4,74.47],[267,75],[263,83],[261,88],[255,88],[252,85],[247,83],[242,79],[237.47,74.47],[220.17,74.47],[220,75],[216,84],[215,88],[208,88],[203,85],[198,83],[188,77],[184.97,74.47],[121.18,74.47],[120,78],[115,85],[112,92],[108,93],[106,93],[103,92],[101,90],[98,88],[95,82],[88.98,74.47],[45.49,74.47],[57.69,112],[71,112],[91,114],[110,118],[119.53,120.65],[121,119],[130,112],[135,107],[140,103],[143,99],[146,99],[147,98],[150,98],[148,100],[145,105],[141,110],[136,118],[133.37,124.14],[161,130],[172,133],[182,134],[196,139],[200,140],[201,142],[202,142],[202,143],[187,143],[168,144],[143,150],[116,160],[81,174],[78.27,175.36],[85.37,197.21],[101,192],[118,185],[131,182],[145,178],[152,177],[160,177],[160,185],[146,203],[130,222],[112,242],[103,251.47],[114.58,287.1],[125,279],[143,263],[162,245],[181,225],[200,208],[235,173],[250,159],[278,137],[285,133],[286,133],[278,143],[276,145.31],[276,148],[275,150],[275,154],[273,159],[270,174],[268,179],[267,184],[263,193],[261,195],[260,197],[258,198],[255,198],[253,197],[251,197],[242,193],[238,190]]}","md5":"791e25e178b2280cd1dba371beeea36a"},{"hearts":"0","shape":"{\\"edges\\":5,\\"base\\":{\\"center\\":[200,550],\\"radius\\":500},\\"fill\\":\\"red\\",\\"polygon\\":[[178.99,485.34],[116.17,291.99],[129,287],[137,285],[151,285],[151,221],[155,207],[155,193],[156,191],[156,189],[158,187],[159,185],[160,185],[161,184],[159,184],[157,186],[156,186],[156,187],[152,187],[152,188],[151,189],[149,190],[148,191],[143,191],[142,192],[139,192],[137,194],[135,194],[133,195],[131,197],[112,203],[110,203],[105,205],[104,206],[96,209],[94,211],[91,211],[90.13,211.87],[84.15,193.44],[86,192],[91,189],[105,178],[109,176],[113,173],[122,169],[126,166],[131,165],[134,163],[150,157],[152,157],[161,153],[164,153],[165,152],[166,150],[167,150],[167,149],[168,149],[168,148],[170,146],[172,139],[175,131],[180,120],[185.33,102.22],[188,96],[192,90],[195.11,83.79],[199.02,89.55],[202,98],[209,125],[210,131],[212,136],[215,141],[217,143],[220,145],[230,148],[231.25,148.25],[233,150],[235,153],[246,157],[249,157],[253,159],[262,161],[265,163],[269,164],[275,168],[285,171],[296,175],[301,176],[306,178],[312,179],[317,181],[319.72,181.54],[310.9,208.69],[298,205],[285,199],[264,192],[256,191],[241,187],[238,187],[232,184],[229,181],[226,181],[224,180],[222,180],[222,182],[223,184],[223,185],[224,185],[224,190],[226,197],[229,201],[230,205],[235,218],[235,221],[236,223],[236,225],[237,226],[238,228],[238,276],[241,276],[253,278],[261,280],[283,290],[284.22,290.81],[222.27,481.45],[220,481],[192,481],[183,483],[180,485]]}","md5":"7f52f845f41c13b14e8289670f2a4642"},{"hearts":"0","shape":"{\\"edges\\":5,\\"base\\":{\\"center\\":[200,550],\\"radius\\":500},\\"fill\\":\\"red\\",\\"polygon\\":[[45.49,74.47],[200,550],[354.51,74.47]]}","md5":"d340c0acecbf0f058f9f5301d1b28098"},{"hearts":"0","shape":"{\\"edges\\":5,\\"base\\":{\\"center\\":[200,550],\\"radius\\":500},\\"fill\\":\\"black\\",\\"polygon\\":[[45.49,74.47],[200,550],[354.51,74.47]]}","md5":"3723bfedff4aa67601706eb85f7e791d"},{"hearts":"0","shape":"{\\"edges\\":5,\\"base\\":{\\"center\\":[200,550],\\"radius\\":500},\\"fill\\":\\"fuchsia\\",\\"polygon\\":[[45.49,74.47],[200,550],[354.51,74.47]]}","md5":"2135b00a988b0d293e0ccccc4a5ce7e0"},{"hearts":"2","shape":"{\\"edges\\":5,\\"base\\":{\\"center\\":[200,550],\\"radius\\":500},\\"fill\\":\\"red\\",\\"polygon\\":[[181,156],[184,159],[187,161],[190,164],[193,165],[196,168],[200,170],[211,177],[214,180],[223,184],[227,187],[232,189],[236,192],[242,194],[248,198],[255,201],[264,206],[270,208],[277,212],[284,215],[291,217],[296,219],[299.78,219.89],[296,218],[293,215],[290,213],[288,209],[284,205],[276,190],[274.73,183],[271,183],[264,181],[256,177],[251,176],[248,173],[244,172],[241,169],[233,165],[227,159],[221,148],[217,137],[216,132],[216,112.06],[209,103],[202,93],[195,85],[190,77],[188.74,74.47],[76.02,74.47],[75,76],[65,94],[56.34,107.86],[64.82,133.97],[74,132],[98,132],[100,134],[102,140],[102,156],[100,162],[96,169],[92,174],[89,180],[85,183],[82.04,186.95],[84.49,194.5],[92,192],[101,190],[109,186],[116,185],[133,185],[138,188],[141,193],[142,200],[142,210],[140,221],[132,233],[123,245],[112,255],[105.69,259.73],[106.25,261.45],[107,261],[113,259],[120,256],[131,254],[143,254],[149,255],[154,258],[160,268],[161,273],[161,285],[158,292],[152,300],[144,305],[137,311],[129,317],[124.95,319.02],[127.87,328],[131,328],[145,326],[151,324],[163,324],[163,329],[161,335],[147,355],[140,361],[139.05,362.42],[141.54,370.09],[142,370],[150,367],[160,365],[168,362],[189,357],[195,357],[195,364],[189,372],[175,392],[166,401],[157,409],[154.71,410.62],[156.35,415.67],[158,416],[170,420],[179,421],[186,423],[192.67,423.67],[192,423],[190,420],[188,415],[187,411],[187,400],[188,397],[191,394],[195,392],[212,386],[218,385],[241,385],[252.96,386.99],[260.41,364.07],[247,352],[236,343],[226,334],[218,329],[210,323],[205,322],[196,322],[204,319],[210,318],[219,314],[232,310],[247,306],[262,304],[279.93,304],[283.01,294.51],[282,294],[280,294],[277,293],[273,293],[270,292],[267,292],[264,290],[253,288],[219,268],[215,265],[213,264],[214,264],[216,265],[218,265],[237,274],[242,276],[252,278],[288.38,278],[295.85,255],[286,255],[280,254],[264,249],[252,246],[240.91,242.09],[239,244],[236,246],[232,250],[229,252],[221,252],[220,251],[220,237],[221.1,232.05],[217,230],[206,223],[202.85,220.64],[195,225],[191,226],[176,226],[174,225],[172,223],[172,216],[175,209],[177,207],[184.14,198.97],[180,194],[174,188],[166.14,177],[156,177],[152,175],[148,172],[145,169],[142,167],[141,164],[141,159],[142,158],[143,156],[147,152],[150,152],[147,146],[143,140],[140,134],[128,100],[121,87],[121,79],[123,80],[134,94],[138,98],[141,103],[145,107],[158,125],[162,130],[174,149],[181,156],[181,156]]}","md5":"d2d7c0a8cf1b0576e73b2bcbf5c2a30f"},{"hearts":"0","shape":"{\\"edges\\":5,\\"base\\":{\\"center\\":[200,550],\\"radius\\":500},\\"fill\\":\\"red\\",\\"polygon\\":[[283.12,294.19],[279.14,306.43],[278,306],[274,306],[267,304],[261,304],[261,318],[262,322],[262,326],[263,329],[265,331],[270.4,333.32],[262.38,358],[248,358],[247,359],[246,361],[246,381],[249,385],[252.83,387.4],[248.38,401.11],[239,396],[230,396],[229,397],[229,399],[227,401],[227,408],[231,410],[232,413],[240,417],[242,417],[242.92,417.92],[200,550],[191.37,523.44],[193,521],[200,516],[204,511],[207,506],[212,501],[216,498],[217,496],[217,495],[216,495],[216,494],[213,492],[207,491],[202,489],[189,487],[186.5,487],[190,483],[199,475],[205,468],[214,459],[227,449],[227,448],[226,448],[226,447],[224,447],[213,445],[204,443],[187,441],[173.75,441],[176,438],[182,432],[201,408],[203,405],[203,402],[202,401],[200,400],[183,397],[173,394],[167,393],[158.46,393],[172,385],[210,360],[224,350],[233,343],[233,339],[225,334],[208,326],[196,321],[184,317],[171,312],[158,309],[149,308],[136,308],[145,299],[158,285],[168,273],[168,258],[165,253],[159,246],[152,242],[144,236],[132,229],[120,224],[99.55,217.87],[115,186],[115,172],[113,162],[110,157],[100,149],[90,147],[78,146],[68.73,146],[45.49,74.47],[66.16,74.47],[67,77],[69,79],[73,85],[78,90],[80,91],[83,91],[84,92],[93,92],[94,91],[96,83],[98,81],[98,79],[99,77],[99,74.47],[118.65,74.47],[119,75],[120,78],[125,85],[127,89],[129,91],[133,94],[143,94],[148,92],[152,88],[153,85],[158,75],[158.35,74.47],[186.17,74.47],[190,85],[192,88],[192,89],[196,90],[198,92],[200,93],[202,95],[204,96],[205,97],[206,97],[207,98],[208,98],[209,99],[214,99],[218,95],[220,91],[222,89],[223,87],[223,84],[227,77],[227,75],[228.06,74.47],[253,74.47],[253,80],[257,96],[258,97],[259,97],[261,98],[274,98],[278,95],[280,93],[282,89],[283,88],[285,82],[285,81],[286,80],[286,79],[287,78],[287.71,74.47],[306,74.47],[306,89],[312,91],[314,92],[319,92],[320,91],[322,90],[325,82],[327,80],[328,78],[328,76],[329,75],[329,74.47],[354.51,74.47],[348.49,93],[338,93],[333,95],[319,98],[319,100],[321,100],[342.81,110.47],[336.81,128.94],[331,127],[329,127],[316,126],[316,133],[317,136],[319,139],[323,141],[330,148],[330.51,148.34],[322.22,173.84],[321,172],[311,162],[307,160],[302,155],[299,154],[299,153],[298,152],[292,152],[292,191],[294,197],[294,203],[295,207],[295,219],[294,220],[292,220],[291,221],[290,221],[288,223],[287,223],[287,224],[285,224],[284,225],[283,225],[282,226],[281,226],[278,229],[278,237],[276,240],[276,247],[280,248],[283,252],[285,253],[286,253],[286,254],[287,255],[287,256],[288,257],[289,259],[292,262],[292,263],[293.25,263],[286.74,283.03],[284,278],[269,256],[265,248],[245,219],[232,196],[224,186],[219,179],[214,173],[209,169],[198,157],[193,155],[190,153],[187,152],[185,150],[183,150],[182,149],[173,149],[173,159],[178,168],[182,173],[185,178],[194,190],[199,194],[219,213],[271,277],[276,286],[280,289]]}","md5":"ff051018af4e819d9df19ef417d9342b"},{"hearts":"0","shape":"{\\"edges\\":5,\\"base\\":{\\"center\\":[200,550],\\"radius\\":500},\\"fill\\":\\"red\\",\\"polygon\\":[[215.57,502.09],[200,550],[83.35,191],[120,191],[145,189],[169,186],[192,181],[211,173],[225,162],[232,152],[234,142],[234,136],[232,132],[229,128],[217,119],[208,115],[197,111],[184,108],[170,106],[157,105],[145,105],[109,108],[68,115],[59.27,116.87],[45.49,74.47],[354.51,74.47],[306.66,221.75],[280,218],[262,217],[244,218],[230,223],[223,229],[219,235],[217,242],[216,250],[216,269],[217.35,275.74],[188,270],[178,269],[172,269],[167,271],[166,272],[166,275],[165,276],[165,293],[166,298],[166,304],[169,327],[177,357],[179,367],[182,378],[184.86,385.86],[174,375],[169,371],[168,371],[167,370],[167,377],[168,380],[168,383],[171,400],[174,408],[176,416],[190,450],[201,471],[206,484],[212,497]]}","md5":"d3380c68ee0ef0e779a2cd0cfce98bdc"},{"hearts":"0","shape":"{\\"edges\\":5,\\"base\\":{\\"center\\":[200,550],\\"radius\\":500},\\"fill\\":\\"red\\",\\"polygon\\":[[45.49,74.47],[200,550],[354.51,74.47]]}","md5":"e3720fe520f2c539e3d8d6246b454af6"}]},"error":null}');
        successHandler(networkData);
        return;
        /*</remove>*/
        function successHandler(data) {
            if (data === null) {
                $('.mask').hide();
                return;
            }
            if (data.error) {
                $('.mask').hide();
                return;
            }
            renderRanking(0, data.data.newest);
            renderRanking(1, data.data.today);
            renderRanking(2, data.data.hearts);
            $('.mask').hide();
        }
        $('.mask').show();

        $.ajax({
            type: 'GET',
            url: '/ranking/',
            dataType: 'json',
            success: successHandler,
            error: function() {
                alert('network error.');
                $('.mask').hide();
            }
        });
    }

    function renderRanking(pageIndex, items) {
        items = items || [];
        for (var i = 0; i < maxRanking; i++) {
            var paper = papers[[pageIndex, i]];
            if (!paper) {
                continue;
            }
            var paperData = items[i];
            if (paperData) {
                var shape = paperData.shape;
                if (typeof shape === 'string') {
                    shape = JSON.parse(shape);
                }
                $(paper.span).text(paperData.hearts);
                paper.preview.render(shape);
                paper.container.setAttribute('data-md5', paperData.md5);
                paper.container.setAttribute('data-hearts', paperData.hearts);
            } else {
                $(paper.span).text(0);
                paper.preview.clear();
                paper.container.setAttribute('data-md5', '');
                paper.container.setAttribute('data-hearts', '');
            }
        }
    }
    /**
     * key [pageIndex, paperIndex]
     * value { preview, span }
     * @type {Object}
     */
    var papers = {};
    var tabButtons = document.querySelectorAll('.ranking .tabs li');
    var tabPages = document.querySelectorAll('.ranking .tab-content .tab-page');
    [].slice.apply(tabPages).forEach(function(page, pageIndex) {
        page.innerHTML = '<ul>' +
            new Array(15 + 1).join('<li><div class="clockwise paper"></div><img src="img/hearts.ico"><span class="heart-count"></span></li>') +
            '</ul>';
        var spans = page.querySelectorAll('span');
        var imgs = page.querySelectorAll('img');
        [].slice.apply(page.querySelectorAll('.paper')).forEach(function(paper, paperIndex) {
            new Hammer(paper).on('tap', function(e) {
                var md5 = paper.getAttribute('data-md5');
                if (md5) {
                    location = 'preview.html?md5=' + md5;
                }
            });
            new Hammer(imgs[paperIndex]).on('tap', function(e) {
                var md5 = paper.getAttribute('data-md5');
                if (!md5) {
                    return;
                }
                var lastHearts = parseInt(paper.getAttribute('data-hearts') || 0);
                var hearts = localStorage['cutpaper-hearts'];
                if (hearts) {
                    try {
                        hearts = JSON.parse(hearts);
                        if (typeof hearts !== 'object') {
                            hearts = {};
                        }
                    }
                    catch (ex) {
                        hearts = {};
                    }
                }
                else {
                    hearts = {};
                }
                if (hearts[md5]) { // 已经投过票
                    return;
                }
                hearts[md5] = lastHearts || 1;

                $('.mask').show();

                $.ajax({
                    type: 'POST',
                    url: '/heart/',
                    data: {
                        md5: md5
                    },
                    dataType: 'json',
                    success: function(data) {
                        if (data === null) {
                            alert('post error.');
                            $('.mask').hide();
                            return;
                        }
                        if (data.error) {
                            alert(data.error);
                            $('.mask').hide();
                            return;
                        }
                        setTimeout(function() {
                            $('.mask').hide();
                        }, 500);
                        lastHearts++;
                        localStorage['cutpaper-hearts'] = JSON.stringify(hearts);
                        flashHearts(spans[paperIndex]);
                        $(spans[paperIndex]).text(format('x #{hearts}', {
                            hearts: lastHearts
                        }));
                    },
                    error: function() {
                        alert('network error.');
                        $('.mask').hide();
                    }
                });
            });

            var preview = jcuts.createRender({
                container: paper,
                width: 80,
                height: 80,
                stroke: 'none'
            });
            papers[[pageIndex, paperIndex]] = {
                preview: preview,
                span: spans[paperIndex],
                container: paper,
                img: imgs[paperIndex]
            };
        });
    });

    for (var i = 0; i < tabButtons.length; i++) {
        var button = tabButtons[i];
        new Hammer(button).on('tap', (function(index) {
            return function() {
                $('.ranking .tabs li').removeClass('active');
                $('.ranking .tab-content .tab-page').removeClass('active');

                $(tabPages[index]).addClass('active');
                $(tabButtons[index]).addClass('active');
            };
        })(i));
    }

    var timer;

    function flashHearts(element) {
        $(element).addClass('bounce');
        if (timer) {
            clearTimeout(timer);
        }
        timer = setTimeout(function() {
            timer = null;
            $(element).removeClass('bounce');
        }, 3000);
    }

    new Hammer(document.querySelector('.cut')).on('tap', function(ev) {
        location = 'index.html';
    });

    new Hammer(document.querySelector('.cut-hint')).on('tap', function(ev) {
        location = 'index.html';
    });

    new Hammer(document.querySelector('.refresh')).on('tap', function(ev) {
        updateRanking();
    });
    new Hammer(document.querySelector('.refresh-hint')).on('tap', function(ev) {
        updateRanking();
    });
    updateRanking();
})();
/*</replace>*/
